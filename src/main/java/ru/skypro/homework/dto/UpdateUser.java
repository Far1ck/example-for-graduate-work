package ru.skypro.homework.dto;

import jakarta.validation.constraints.Pattern;
import jakarta.validation.constraints.Size;
import lombok.Data;

/**
 * Data Transfer Object (DTO) для обновления персональных данных пользователя.
 *
 * <p>Используется в API для приёма и валидации входных данных при изменении профиля пользователя.
 * Содержит только те поля, которые пользователь может редактировать самостоятельно
 * (без административных прав).
 *
 * <p>Основные особенности:
 * <ul>
 *   <li>применяет валидационные ограничения через аннотации Jakarta Validation;</li>
 *   <li>использует Lombok для генерации стандартного кода;</li>
 *   <li>не включает чувствительные поля (пароль, роль, email, ID).</li>
 * </ul>
 *
 * @see Data
 * @see jakarta.validation.constraints.Size
 * @see jakarta.validation.constraints.Pattern
 */
@Data
public class UpdateUser {

    /**
     * Новое имя пользователя для обновления профиля.
     *
     * <p>Применяются ограничения валидации:
     * <ul>
     *   <li>{@code min = 3} — минимальная длина 3 символа;</li>
     *   <li>{@code max = 10} — максимальная длина 10 символов.</li>
     * </ul>
     *
     * <p>При несоответствии ограничениям будет выброшено исключение валидации
     * с сообщением о нарушении правил ввода.
     *
     * @see Size
     */
    @Size(min = 3, max = 10)
    private String firstName;

    /**
     * Новая фамилия пользователя для обновления профиля.
     *
     * <p>Применяются те же ограничения валидации, что и для {@code firstName}:
     * <ul>
     *   <li>минимум 3 символа;</li>
     *   <li>максимум 10 символов.</li>
     * </ul>
     *
     * <p>Валидация выполняется автоматически при обработке запроса Spring Validation.
     *
     * @see Size
     */
    @Size(min = 3, max = 10)
    private String lastName;

    /**
     * Новый номер телефона пользователя в формате российского мобильного номера.
     *
     * <p>Проверяется по регулярному выражению:
     * {@code \\+7\\s?\\(?\\d{3}\\)?\\s?\\d{3}-?\\d{2}-?\\d{2}}
     *
     * <p>Допустимые форматы ввода:
     * <ul>
     *   <li>{@code +79991234567}</li>
     *   <li>{@code +7 (999) 123-45-67}</li>
     *   <li>{@code +7 999 123 45 67}</li>
     *   <li>{@code +79991234567}</li>
     * </ul>
     *
     * <p>При несоответствии шаблону будет выброшено исключение валидации.
     *
     * @see Pattern
     */
    @Pattern(regexp = "\\+7\\s?\\(?\\d{3}\\)?\\s?\\d{3}-?\\d{2}-?\\d{2}")
    private String phone;
}
